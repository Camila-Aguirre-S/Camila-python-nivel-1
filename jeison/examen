
utilidades = 0


def mostrar_menu():
    while True:
        print("Opción [Salario|Movimiento|Reporte|Terminar] (elija letra con la que empieza):")
        opcion = input().upper()
        if opcion in opciones:
            opciones[opcion]()
        else:
            print("Opción inválida. Inténtelo de nuevo.")

def salario_mensual():
    salario = input("Ingrese su salario mensual: ")
    while not salario.isdigit():
        print("Salario inválido. Inténtelo de nuevo.")
        salario = input("Ingrese su salario mensual: ")
    salario = int(salario)
    print("Salario bruto:", salario)
    calcular_renta(salario)

def movimiento_ingreso():
    movimiento = input("Movimiento: ")
    while not movimiento.replace("-", "").isdigit():
        print("Movimiento inválido. Inténtelo de nuevo.")
        movimiento = input("Movimiento: ")
    movimiento = int(movimiento)
    if movimiento > 0:
        print("Utilidades:", f'{movimiento:,}')
        calcular_renta(movimiento)
    else:
        print("El movimiento debe ser un valor positivo.")

def reporte():
    print("Utilidades:", f'{utilidades:,}')
    calcular_renta_persona_fisica(utilidades)
    calcular_renta_persona_juridica(utilidades)

def terminar():
    exit()

def calcular_renta(monto):
    global utilidades
    utilidades += monto

def calcular_renta_persona_fisica(utilidades):
    renta = min(utilidades, 4181000) * 0.0 + min(max(utilidades - 4181000, 0), 2063000) * 0.1 + min(max(utilidades - 6244000, 0), 4197000) * 0.15 + max(utilidades - 10414000, 0) * 0.20
    print("Renta persona física:", f'{renta:,.0f}', "colones")

def calcular_renta_persona_juridica(utilidades):
    renta = utilidades * 0.05
    print("Renta persona jurídica:", f'{renta:,.0f}', "colones")
opciones = {
    'S': salario_mensual,
    'M': movimiento_ingreso,
    'R': reporte,
    'T': terminar
}

mostrar_menu()
